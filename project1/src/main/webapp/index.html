<!DOCTYPE html>
<html id="main">

<style>

    object {
        width: 100%;
        height: 100%;
    }
</style>

<head>
    <title>Pizza app</title>
</head>

<body>
    <h2>Login</h2>
    <h3>Username</h3>
    <input id="username" type="text">
    <h3>Password</h3>
    <input id="password" type="text">
    <button onclick="getPizzaUser()">Login</button>
    <a onclick="addPizzaUser()">Register</a>
</body>
<script>

    function getPizzaUser() {
        let xhttp = new XMLHttpRequest();
        let username = document.getElementById("username").value;
        let password = document.getElementById("password").value;
        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                let puser = JSON.parse(this.responseText);

                console.log(puser);

                if ((puser.username == username) && (puser.password == password)) {
                    login();
                }
            }
        }
        xhttp.open("GET", "http://localhost:8080/project1/getPizzaUser.do?username=" + username, true);
        xhttp.send();
    }

    function login() {
        document.getElementById("main").innerHTML = "<object data ='PizzaMenu.html' style='width:100%;'></object>"
    }
    function addPizzaUser() {
        document.getElementById("main").innerHTML = "<object data ='PizzaUserAdder.html' style='height:500px;width:100%'></object>"
    }

</script>

</html>